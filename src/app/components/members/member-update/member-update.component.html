<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <p style="font-size: 19px">{{user.knownAs + ' - ' + user.email}}</p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <div class="card">
        <img class="card-img-top m-auto img-thumbnail  w-50 h-50 rounded-circle" [src]="photoUrl"
             [alt]="user.knownAs">
        <div class="card-body">
          <div>
            <strong>Location</strong>
            <p>{{user.city}}, {{user?.country}}</p>
          </div>
          <div>
            <strong>Age</strong>
            <p>{{user.age}}</p>
          </div>
          <div>
            <button form="updateForm" [disabled]="!updateForm.dirty" class="btn btn-success btn-block">Update</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-8">
      <div class="row">
        <div class="col-12">
          <div *ngIf="updateForm.dirty" class="alert alert-warning">
            <strong>Information:</strong> You have made changes. Any unsaved changes
            will be lost!
          </div>
        </div>
      </div>
      <tabset>
        <tab heading="Basic info" id="tab1">
          <form id="updateForm" #updateForm="ngForm" (ngSubmit)="update()">
            <div class="row">
              <div class="col-12">
                <label class="font-weight-bold mb-2 mt-4">Interests</label>
                <textarea required class="form-control mb-2" name="interests" style="resize: none"
                          [(ngModel)]="user.interests"></textarea>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <label class="font-weight-bold mb-2">Introduction</label>
                <textarea required name="introduction" class="form-control mb-2" rows="7" style="resize: none;"
                          [(ngModel)]="user.introduction"></textarea>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label class="font-weight-bold mb-2 mt-4">Looking for</label>
                <input required type="text" class="form-control mb-2" name="lookingFor" style="resize: none"
                       [(ngModel)]="user.lookingFor"/>
              </div>
              <div class="col-4">
                <label class="font-weight-bold mb-2 mt-4">City</label>
                <input required type="text" class="form-control mb-2" name="city" style="resize: none"
                       [(ngModel)]="user.city"/>
              </div>
              <div class="col-4">
                <label class="font-weight-bold mb-2 mt-4">Country</label>
                <input required type="text" class="form-control mb-2" name="country" style="resize: none"
                       [(ngModel)]="user.country"/>
              </div>
            </div>
          </form>
        </tab>
        <tab heading="Photos">
          <div class="row">
            <div class="col-12">
              <button class="btn mt-4" [class]="(!showUploader)?'btn-success':'btn-danger'"
                      (click)="showUploader = !showUploader">{{ (!showUploader) ? 'Add photo' : 'Cancel' }} <i
                *ngIf="!showUploader" class="fa fa-plus"></i>
              </button>
            </div>
          </div>
          <app-photo-editor [showPhotoUploader]="showUploader"
                            [photos]="user.photos"></app-photo-editor>
        </tab>
      </tabset>
    </div>
  </div>
</div>
